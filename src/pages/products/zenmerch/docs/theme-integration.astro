---
import ZenmerchDocsLayout from "../../../../components/ZenmerchDocsLayout.astro";
import ScreenshotFigure from "../../../../components/ScreenshotFigure.astro";
---

<ZenmerchDocsLayout
  title="ZenMerch Theme Integration (OS 2.0)"
  description="Enable the ZenMerch app embed for Online Store 2.0 and verify the personalizer is active on product pages."
>
  <article class="prose prose-invert max-w-none">
    <h1>Theme integration (Online Store 2.0)</h1>
    <p>
      ZenMerch integrates using Shopify’s supported extension architecture via a <strong>theme app embed</strong>. Once enabled, ZenMerch
      automatically loads the personalizer UI on targeted product pages—no manual theme code edits or app block placement required.
    </p>

    <h2 id="embed">Enable the ZenMerch app embed</h2>
    <ol>
      <li>In ZenMerch, go to <strong>Settings → Theme integration</strong>.</li>
      <li>Click <strong>Enable ZenMerch embed</strong> to open Shopify Theme Editor.</li>
      <li>
        In Theme Editor: open <strong>App embeds</strong> (plug icon), enable the ZenMerch embed, then click <strong>Save</strong>.
      </li>
      <li>Back in ZenMerch, click <strong>Refresh status</strong> to confirm the embed is enabled.</li>
    </ol>

    <ScreenshotFigure
      src="/images/zenmerch/screenshots/Admin-Settings-ThemeIntegration.png"
      alt="ZenMerch admin theme integration settings"
      caption="Theme integration: enable the app embed in Theme Editor, then Save."
      aspectClass="aspect-[16/9]"
    />

    <h2 id="verify">Verify it’s working</h2>
    <ol>
      <li>Open any targeted product page.</li>
      <li>Confirm the ZenMerch UI appears on the product page.</li>
      <li>Interact with inputs and confirm the preview updates.</li>
    </ol>

    <h2 id="status">Diagnostics</h2>
    <p>
      If you make changes in Theme Editor, use <strong>Refresh status</strong> inside ZenMerch to rescan the embed status.
    </p>

    <h2 id="quick-fixes">Quick fixes (common Shopify setup issues)</h2>
    <ul>
      <li>
        <strong>ZenMerch isn’t listed under App embeds</strong>: confirm the app is installed and your theme is <strong>Online Store 2.0</strong>.
        (Vintage themes don’t support App embeds.)
      </li>
      <li>
        <strong>Enabled, but not showing on storefront</strong>: make sure you edited the <strong>Live</strong> theme (or the same theme customers
        are viewing), then confirm the product is <strong>targeted</strong> by a template.
      </li>
      <li>
        <strong>Changes not updating</strong>: click <strong>Save</strong> in Theme Editor, then hard refresh the product page (or test in an
        incognito window).
      </li>
    </ul>

    <h2 id="disable">Disable / uninstall</h2>
    <ol>
      <li>Shopify admin → <strong>Online Store → Themes → Customize</strong>.</li>
      <li>Theme Editor → <strong>App embeds</strong> → toggle off <strong>ZenMerch</strong> → <strong>Save</strong>.</li>
      <li>To uninstall: Shopify admin → <strong>Apps</strong> → ZenMerch → <strong>Uninstall</strong>.</li>
    </ol>
  </article>
</ZenmerchDocsLayout>

